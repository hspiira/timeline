# Copy to .env and adjust. Required for app startup.
# See README "Required environment variables".

# ---- Required ----
SECRET_KEY=your-secret-key-min-32-chars-use-openssl-rand-hex-32
ENCRYPTION_SALT=your-salt-16-chars-hex
# Optional: separate secret for email/OAuth credential encryption. If set, JWT rotation won't break stored credentials.
# CREDENTIAL_ENCRYPTION_SECRET=

# PostgreSQL (required). Run `uv run alembic upgrade head` after setting.
DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/timeline_db

# ---- Optional ----
# Redis (cache, permissions); set REDIS_ENABLED=false to disable
# REDIS_ENABLED=true
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# CORS (comma-separated origins)
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Request timeout (seconds), max upload size (bytes)
# REQUEST_TIMEOUT_SECONDS=60
# Storage: MAX_UPLOAD_SIZE=104857600

# Email webhook: provider callbacks must send X-Webhook-Signature-256: sha256=<hmac_sha256(secret, body)>.
# EMAIL_WEBHOOK_SECRET=

# Tenant creation: shared secret required for POST /api/v1/tenants (X-Create-Tenant-Secret header).
# CREATE_TENANT_SECRET=

# RLS readiness: GET /api/v1/health/ready runs RLS checks if true. Use in production readiness probes.
# RLS_READINESS_CHECK=false
# RLS_CHECK_APP_ROLE=   # default: user from DATABASE_URL
# RLS_CHECK_POLICIES=false   # if true, readiness also requires tenant_isolation policies to exist
